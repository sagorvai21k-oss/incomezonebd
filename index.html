<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <title>My Earning App</title>  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">  
  <script src="https://telegram.org/js/telegram-web-app.js"></script>  

  <style>
    /* তোমার আগের CSS একই রাখা হয়েছে */
  </style>  
</head>  
<body>  
  <div class="container">  
    <!-- তোমার বাকি HTML আগের মতোই রাখা হয়েছে -->  
  </div>  

  <!-- ✅ SDK Script (তোমার দেওয়া কোড) -->
  <script src='//libtl.com/sdk.js' data-zone='10108904' data-sdk='show_10108904'></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tg = window.Telegram.WebApp;
      tg.ready();
      tg.expand();

      const DAILY_ADS_LIMIT = 50;
      const AD_REWARD = 0.02;

      const watchAdBtn = document.getElementById('watch-ad-btn');

      function updateUI() {
        const earnings = parseFloat(localStorage.getItem('earnings') || '0');
        const adsWatched = parseInt(localStorage.getItem('adsWatched') || '0');
        document.getElementById('current-balance').textContent = `BDT ${earnings.toFixed(2)}`;
        document.getElementById('ads-watched').textContent = adsWatched;
      }

      watchAdBtn.addEventListener('click', () => {
        if (parseInt(localStorage.getItem('adsWatched') || '0') >= DAILY_ADS_LIMIT) {
          tg.showAlert('আপনার দৈনিক বিজ্ঞাপনের সীমা পৌঁছে গেছে।');
          return;
        }

        watchAdBtn.disabled = true;

        // ✅ Rewarded Ad Integration (তোমার দেওয়া SDK + Popup Function)
        if (typeof show_10108904 === 'function') {
          show_10108904()
            .then(() => {
              let earnings = parseFloat(localStorage.getItem('earnings') || '0') + AD_REWARD;
              let watched = parseInt(localStorage.getItem('adsWatched') || '0') + 1;
              localStorage.setItem('earnings', earnings);
              localStorage.setItem('adsWatched', watched);

              tg.showAlert(`আপনি বিজ্ঞাপনটি দেখেছেন এবং BDT ${AD_REWARD.toFixed(2)} পেয়েছেন!`);
            })
            .catch(() => {
              tg.showAlert('বিজ্ঞাপনটি দেখাতে সমস্যা হয়েছে। আবার চেষ্টা করুন।');
            })
            .finally(() => {
              updateUI();
              watchAdBtn.disabled = false;
            });
        } else {
          // fallback if SDK fails
          let earnings = parseFloat(localStorage.getItem('earnings') || '0') + AD_REWARD;
          let watched = parseInt(localStorage.getItem('adsWatched') || '0') + 1;
          localStorage.setItem('earnings', earnings);
          localStorage.setItem('adsWatched', watched);
          alert(`(Test Mode) You earned BDT ${AD_REWARD.toFixed(2)}!`);
          updateUI();
          watchAdBtn.disabled = false;
        }
      });

      updateUI();
    });
  </script>
</body>
</html>        
            
                    
                    
        
                    

                

            
                

                
                
